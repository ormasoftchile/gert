commands:
  - argv: ["kubectl", "get", "pods", "-n", "prod", "-l", "app=api-gateway"]
    stdout: "NAME           READY   STATUS    RESTARTS   AGE\napi-gw-abc12   1/1     Running   0          2d\napi-gw-def34   1/1     Running   0          2d\n"
    stderr: ""
    exit_code: 0

  - argv: ["kubectl", "logs", "-n", "prod", "-l", "app=api-gateway", "--tail=100"]
    stdout: "2026-02-11T10:00:00Z INFO  Starting api-gateway service\n2026-02-11T10:00:01Z INFO  Listening on port 8080\n"
    stderr: ""
    exit_code: 0

  - argv: ["kubectl", "get", "events", "-n", "prod", "--sort-by=.lastTimestamp"]
    stdout: "LAST SEEN   TYPE     REASON    OBJECT              MESSAGE\n5m          Normal   Pulled    pod/api-gw-abc12    Container image pulled\n5m          Normal   Started   pod/api-gw-abc12    Started container\n"
    stderr: ""
    exit_code: 0

evidence:
  validate_dashboard:
    metrics_validation:
      kind: checklist
      items:
        "Error rate < 1%": true
        "P99 latency < 500ms": true
        "No anomalous traffic": true
    dashboard_url:
      kind: text
      value: "https://grafana.internal/d/api-gw/overview?orgId=1"
    dashboard_screenshot:
      kind: attachment
      path: "testdata/scenarios/screenshot.png"
      sha256: "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
      size: 0
