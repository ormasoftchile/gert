apiVersion: runbook/v0

tools:
  - kubectl

meta:
  name: tool-step-test
  kind: mitigation
  description: Tests type:tool step validation and execution
  vars:
    namespace: default

tree:
  - step:
      id: check_pods
      type: tool
      title: Check pod status
      tool:
        name: kubectl
        action: get-pods
        args:
          namespace: "{{ .namespace }}"
      capture:
        pod_list: stdout
